.\" Believe it or not, reportedly there are nroffs which do not know \(en
.if n .ds en -
.if t .ds en \(en
.TH DISKDEFS 5 "October 10, 2022" "CP/M tools" "File formats"
.SH NAME \"{{{roff}}}\"{{{
diskdefs \- CP/M disk and file system format definitions
.\"}}}
.SH DESCRIPTION \"{{{
The diskdefs file contains CP/M format descriptions,
because CP/M in general does not store those in the file system and there are
no standards of any kind.
.PP
A diskdefs file consists of one or more entries of the format:
.PP
.nf
.RS
\fBdiskdef\fP \fIname\fP
  \fBseclen\fP \fIsize\fP
  \fBtracks\fP \fIcount\fP
  \fBsectrk\fP \fIcount\fP
  \fBblocksize\fP \fIsize\fP
  \fBmaxdir\fP \fIcount\fP
  [\fBdirblks\fP \fIcount\fP]
  \fBboottrk\fP \fInumber\fP
  [\fBbootsec\fP \fInumber\fP]
  [\fBskew\fP \fInumber\fP]
  [\fBskewtab\fP \fIsector\fP[\fB,\fP\fIsector\fP]...]
  [\fBos\fP \fB2.2\fP|\fB3\fP|\fBisx\fP|\fBp2dos\fP|\fBzsys\fP]
  [\fBoffset\fP \fIsize\fP]
  [\fBlogicalextents\fP \fIcount\fP]
  [\fBlibdsk:format\fP \fIname\fP]
\fBend\fP
.RE
.fi
.PP
\fBskew\fP and \fBskewtab\fP must only be used exclusively.
.PP
Comments are marked with a leading hash or semicolon and extend to the
end of the line.
.PP
It is possible to reserve space after the directory beyond \fBmaxdir\fP
using an inflated DPB ALV0.  If the format makes use of that,
\fBdirblks\fP must be set.
.PP
\fBbootsec\fP contains the total number of sectors used by the boot area.
This is for CP/M systems that map multiple logical tracks onto a physical
track. While raw disk images can be configured for doing the same,
accessing libdsk images needs to be done by physical tracks.
.\"}}}
.SH "SEE ALSO" \"{{{
.IR cpm (5)
.\"}}}
